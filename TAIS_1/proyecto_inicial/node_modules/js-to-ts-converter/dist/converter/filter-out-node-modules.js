"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Given a Project, removes all files that are under the node_modules folder.
 *
 * It seems the language service can pull in some .d.ts files from node_modules
 * that we don't want to be output after we save.
 */
function filterOutNodeModules(tsAstProject) {
    tsAstProject.getSourceFiles().forEach(sourceFile => {
        if (sourceFile.getFilePath().includes('node_modules')) {
            tsAstProject.removeSourceFile(sourceFile);
        }
    });
    return tsAstProject;
}
exports.filterOutNodeModules = filterOutNodeModules;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmlsdGVyLW91dC1ub2RlLW1vZHVsZXMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvY29udmVydGVyL2ZpbHRlci1vdXQtbm9kZS1tb2R1bGVzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBRUE7Ozs7O0dBS0c7QUFDSCw4QkFBc0MsWUFBcUI7SUFDMUQsWUFBWSxDQUFDLGNBQWMsRUFBRSxDQUFDLE9BQU8sQ0FBRSxVQUFVLENBQUMsRUFBRTtRQUNuRCxJQUFJLFVBQVUsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxRQUFRLENBQUUsY0FBYyxDQUFFLEVBQUc7WUFDekQsWUFBWSxDQUFDLGdCQUFnQixDQUFFLFVBQVUsQ0FBRSxDQUFDO1NBQzVDO0lBQ0YsQ0FBQyxDQUFFLENBQUM7SUFFSixPQUFPLFlBQVksQ0FBQztBQUNyQixDQUFDO0FBUkQsb0RBUUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUHJvamVjdCBmcm9tIFwidHMtc2ltcGxlLWFzdFwiO1xuXG4vKipcbiAqIEdpdmVuIGEgUHJvamVjdCwgcmVtb3ZlcyBhbGwgZmlsZXMgdGhhdCBhcmUgdW5kZXIgdGhlIG5vZGVfbW9kdWxlcyBmb2xkZXIuXG4gKlxuICogSXQgc2VlbXMgdGhlIGxhbmd1YWdlIHNlcnZpY2UgY2FuIHB1bGwgaW4gc29tZSAuZC50cyBmaWxlcyBmcm9tIG5vZGVfbW9kdWxlc1xuICogdGhhdCB3ZSBkb24ndCB3YW50IHRvIGJlIG91dHB1dCBhZnRlciB3ZSBzYXZlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZmlsdGVyT3V0Tm9kZU1vZHVsZXMoIHRzQXN0UHJvamVjdDogUHJvamVjdCApOiBQcm9qZWN0IHtcblx0dHNBc3RQcm9qZWN0LmdldFNvdXJjZUZpbGVzKCkuZm9yRWFjaCggc291cmNlRmlsZSA9PiB7XG5cdFx0aWYoIHNvdXJjZUZpbGUuZ2V0RmlsZVBhdGgoKS5pbmNsdWRlcyggJ25vZGVfbW9kdWxlcycgKSApIHtcblx0XHRcdHRzQXN0UHJvamVjdC5yZW1vdmVTb3VyY2VGaWxlKCBzb3VyY2VGaWxlICk7XG5cdFx0fVxuXHR9ICk7XG5cblx0cmV0dXJuIHRzQXN0UHJvamVjdDtcbn0iXX0=